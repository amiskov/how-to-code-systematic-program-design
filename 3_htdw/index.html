<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>3a: How to Design Worlds | How to Code</title>
    <meta name="description" content="">
    <link rel="icon" href="/mooc_htdp/favicon.ico">
    
    <link rel="preload" href="/mooc_htdp/assets/css/0.styles.18489455.css" as="style"><link rel="preload" href="/mooc_htdp/assets/js/app.592f2e84.js" as="script"><link rel="preload" href="/mooc_htdp/assets/js/6.1399ec09.js" as="script"><link rel="prefetch" href="/mooc_htdp/assets/js/2.c3a79ebd.js"><link rel="prefetch" href="/mooc_htdp/assets/js/3.995fccf7.js"><link rel="prefetch" href="/mooc_htdp/assets/js/4.30812adf.js"><link rel="prefetch" href="/mooc_htdp/assets/js/5.04b7ebe3.js"><link rel="prefetch" href="/mooc_htdp/assets/js/7.bde6f355.js"><link rel="prefetch" href="/mooc_htdp/assets/js/8.73ede66b.js"><link rel="prefetch" href="/mooc_htdp/assets/js/9.35d4c287.js">
    <link rel="stylesheet" href="/mooc_htdp/assets/css/0.styles.18489455.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mooc_htdp/" class="home-link router-link-active"><!----> <span class="site-name">How to Code</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/mooc_htdp/" class="sidebar-link">How to Code</a></li><li><a href="/mooc_htdp/00_introduction.html" class="sidebar-link">Welcome</a></li><li><a href="/mooc_htdp/1a_bsl/" class="sidebar-link">1a: Beginning Student Language</a></li><li><a href="/mooc_htdp/1b_htdf/" class="sidebar-link">1b: How to Design Functions</a></li><li><a href="/mooc_htdp/2_htdd/" class="sidebar-link">2: How to Design Data</a></li><li><a href="/mooc_htdp/3_htdw/" class="active sidebar-link">3a: How to Design Worlds</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#module-overview" class="sidebar-link">Module Overview</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#interactive-programs" class="sidebar-link">Interactive Programs</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#the-big-bang-mechanism-all-parts" class="sidebar-link">The big-bang Mechanism (all parts)</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#domain-analysis" class="sidebar-link">Domain Analysis</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#program-through-main-function" class="sidebar-link">Program through main Function</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#working-through-the-wish-list" class="sidebar-link">Working through the Wish List</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#improving-a-world-program-add-speed" class="sidebar-link">Improving a World Program - Add SPEED</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#improving-a-world-program-add-key-handler" class="sidebar-link">Improving a World Program - Add key handler</a></li><li class="sidebar-sub-header"><a href="/mooc_htdp/3_htdw/#–ø—Ä–æ–≥—Ä–∞–º–º–∞-—Ü–µn–∏–∫–æ–º" class="sidebar-link">–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ü–µ–ª–∏–∫–æ–º</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="_3a-how-to-design-worlds"><a href="#_3a-how-to-design-worlds" aria-hidden="true" class="header-anchor">#</a> 3a: How to Design Worlds</h1> <h2 id="module-overview"><a href="#module-overview" aria-hidden="true" class="header-anchor">#</a> Module Overview</h2> <p>–í —ç—Ç–æ–º –º–æ–¥—É–ª–µ –±—É–¥–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω —Ä–µ—Ü–µ–ø—Ç HtDW –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –≤ DrRacket. –ë—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –≥—Ä–∞—Ñ–∏–∫–æ–π.</p> <h2 id="interactive-programs"><a href="#interactive-programs" aria-hidden="true" class="header-anchor">#</a> Interactive Programs</h2> <p>–ë—É–¥–µ–º –¥–µ–ª–∞—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –ø–æ–ª–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –°–ú–° –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.</p> <h2 id="the-big-bang-mechanism-all-parts"><a href="#the-big-bang-mechanism-all-parts" aria-hidden="true" class="header-anchor">#</a> The big-bang Mechanism (all parts)</h2> <p>MTS (eMpTy Scene) ‚Äî —Ö–æ–ª—Å—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–±–µ–ª—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –¥–≤–∏–≥–∞–µ—Ç—Å—è –∫–æ—Ç).</p> <p>CTR-Y ‚Äî CenTeR Y ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –ø–æ –æ—Å–∏ –æ—Ä–¥–∏–Ω–∞—Ç.</p> <p><a href="https://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._place-image%29%29" target="_blank" rel="noopener noreferrer"><code>place-image</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> —Ä–∞–∑–º–µ—â–∞–µ—Ç –æ–¥–Ω—É –∫–∞—Ä—Ç–∏–Ω–∫—É –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–π (MTS).</p> <p>–ß—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–º–µ—â–∞—é—â–µ–≥–æ—Å—è —Å–ª–µ–≤–∞-–Ω–∞–ø—Ä–∞–≤–æ –∫–æ—Ç–∞, –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –µ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É <code>X</code>, —Å–º–µ—â–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É, —Å–Ω–æ–≤–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É <code>X</code>, —Å–Ω–æ–≤–∞ —Å–º–µ—â–∞—Ç—å –∫–∞—Ä—Ç–∏–Ω—É –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ:</p> <img src="/mooc_htdp/assets/img/moving_cat.4eb51422.png" width="400"> <p>–î–ª—è —Ç–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ Racket –µ—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è <a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html?q=big-bang#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" target="_blank" rel="noopener noreferrer"><code>big-bang</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ‚Äî –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —à—Ç—É–∫–∏.</p> <div class="language-scheme extra-class"><pre class="language-scheme"><code><span class="token punctuation">(</span><span class="token function">big-bang</span> <span class="token number">0</span>               <span class="token comment">; –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø–µ—Ä–≤–∞—è –ø–æ–∑–∏—Ü–∏—è –∫–æ—Ç–∞</span>
    <span class="token punctuation">(</span><span class="token function">on-tick</span> next-cat<span class="token punctuation">)</span>    <span class="token comment">; —Ñ-—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É X</span>
    <span class="token punctuation">(</span><span class="token function">to-draw</span> render-cat<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">; —Ñ-—è —Ä–∏—Å—É–µ—Ç –∫–æ—Ç–∞ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏</span>
</code></pre></div><p>–¢–æ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è <code>big-bang</code>, –∫–∞–∫ –∏ —Å–∞–º –ë–æ–ª—å—à–æ–π –≤–∑—Ä—ã–≤, –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –º–∏—Ä–∞ –∏ –º–µ–Ω—è–µ—Ç –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.</p> <p><code>big-bang</code> ‚Äî UI Framework ‚Äî –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã: —Å–ø–∏—Å–∫–∏, —á–∏—Å–ª–∞ –∏ –ø—Ä. —Ç–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –∞—Ä–≥—É–º–µ–Ω—Ç—ã –±—ã–ª–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞:</p> <div class="language-scheme extra-class"><pre class="language-scheme"><code><span class="token punctuation">(</span><span class="token function">big-bang</span> <span class="token number">0</span>               <span class="token comment">; X</span>
    <span class="token punctuation">(</span><span class="token function">on-tick</span> next-cat<span class="token punctuation">)</span>    <span class="token comment">; X-&gt;X</span>
    <span class="token punctuation">(</span><span class="token function">to-draw</span> render-cat<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">; X-&gt;Image</span>
</code></pre></div><h2 id="domain-analysis"><a href="#domain-analysis" aria-hidden="true" class="header-anchor">#</a> Domain Analysis</h2> <p>Domain Analysis ‚Äî –∞–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏:</p> <blockquote><p>The first phase of the How to Design Worlds (HtDW) recipe is to analyze the problem to identify <em>constant</em> information, <em>changing</em> information and required <code>big-bang</code> <em>options</em>.</p></blockquote> <p>–°–ø–µ—Ä–≤–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑ (–Ω–∞ –±—É–º–∞–∂–∫–µ), —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∏–∑ —á–µ–≥–æ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –Ω–∞—à –º–∏—Ä. –ò —É–∂–µ –ø–æ—Ç–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É. –î–≤–µ —Ñ–∞–∑—ã, –æ–Ω–∏ –æ–±–æ–∑–Ω–∞—á–µ–Ω—ã –≤ <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDW" target="_blank" rel="noopener noreferrer">—Ä–µ—Ü–µ–ø—Ç–µ HtDW<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Domain analysis ‚Äî –ø–µ—Ä–≤–∞—è —Ñ–∞–∑–∞ (use a piece of paper!):</p> <ol><li>Sketch program scenarios.</li> <li>Identify constant information.</li> <li>Identify changing information.</li> <li>Identify big-bang options.</li></ol> <img src="/mooc_htdp/assets/img/domain_analysis.0c9c9f4b.png"> <h2 id="program-through-main-function"><a href="#program-through-main-function" aria-hidden="true" class="header-anchor">#</a> Program through main Function</h2> <p>–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–∞—á–∫—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏—Ä–∞. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ –∫–æ–¥—É ‚Äî –≤—Ç–æ—Ä–æ–º—É —à–∞–≥—É –≤ <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDW" target="_blank" rel="noopener noreferrer">—Ä–µ—Ü–µ–ø—Ç–µ HtDW<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Build the actual program:</p> <ol><li>Constants (based on 1.2 above)</li> <li>Data definitions using HtDD (based on 1.3 above)</li> <li>Functions using HtDF:
<ol><li>main first (based on 1.3, 1.4 and 2.2 above)</li> <li>wish list entries for <code>big-bang</code> handlers</li></ol></li> <li>Work through wish list until done</li></ol> <blockquote><p>Traceability: the ability to see where each element winds up in the resulting program.</p></blockquote> <p>Traceability ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç—å. –ö–∞–∫ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –∫–æ–¥–µ –Ω–∞ —à–∞–≥–µ 2.</p> <p>–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —è–≤–Ω–æ (<code>HEIGHT / 2</code> –≤–º–µ—Å—Ç–æ <code>200</code>):</p> <blockquote><p>There's program that the change and programs that nobody uses.</p></blockquote> <p>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è. –ö–æ–≥–¥–∞ –µ—Å—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ç–æ –º–µ–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–æ—â–µ.</p> <p>–í <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDW" target="_blank" rel="noopener noreferrer">—Ä–µ—Ü–µ–ø—Ç–µ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> –µ—Å—Ç—å —à–∞–±–ª–æ–Ω –ø—Ä–æ–≥—Ä–∞–º–º—ã. –í —Ä–∞–∑–¥–µ–ª–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö <code>WS</code> ‚Äî —ç—Ç–æ World State (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞).</p> <h2 id="working-through-the-wish-list"><a href="#working-through-the-wish-list" aria-hidden="true" class="header-anchor">#</a> Working through the Wish List</h2> <p>–ú–µ—Ç–∫–æ–π <code>!!!</code> –≤ —à–∞–±–ª–æ–Ω–µ –æ—Ç–º–µ—á–µ–Ω—ã –º–µ—Å—Ç–∞, –∫ –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –ø–æ–∑–∂–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å.</p> <p>–ü–æ —Ä–µ—Ü–µ–ø—Ç—É, –ø—É–Ω–∫—Ç 2.4 (Work through wish list until done) –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–π—Ç–∏—Å—å –ø–æ –≤—Å–µ–º <code>!!!</code> –∏ –∑–∞–º–µ–Ω–∏—Ç—å –∏—Ö —Ç–µ–º, —á—Ç–æ –Ω—É–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è HtDF-—Ä–µ—Ü–µ–ø—Ç.</p> <p>–®–∞–±–ª–æ–Ω –∏ —Ä–µ—Ü–µ–ø—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–ª–∞—Ç—å –æ–¥–Ω—É –∑–∞–¥–∞—á—É, –ø–æ–ª—É—á–∞—è –≤ –∏—Ç–æ–≥–µ —Ü–µ–ª—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É.</p> <blockquote><p>The big benefit of having a systematic process is it lets you work on one thing at a time and know that it's all going to work out.</p></blockquote> <p>–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ –∑–∞–º–µ—Ç–Ω—ã –≤ –∏—Ç–æ–≥–æ–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ: –∞–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, —à–∞–±–ª–æ–Ω –ø—Ä–æ–≥—Ä–∞–º–º—ã. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —ç—Ç–æ –≤–∞–∂–Ω—ã–µ —à–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–≤–æ–¥—è—Ç –Ω–∞—Å –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É:</p> <blockquote><p>People who design <em>design methods</em>, so that's a kind of meta-design, that's one of the things they work on is, how can there be elements of the design that get you there even though they disappear in the final artifact?</p></blockquote> <h2 id="improving-a-world-program-add-speed"><a href="#improving-a-world-program-add-speed" aria-hidden="true" class="header-anchor">#</a> Improving a World Program - Add SPEED</h2> <p>–ó–∞–¥–∞—á–∞: –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å.</p> <p>–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ ‚Äî —ç—Ç–æ –º–æ–¥–µ–ª—å –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä–∞—è –≤ –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö –æ–ø–∏—Å—ã–≤–∞–µ—Ç –µ—ë —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ ‚Äî –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.</p> <p>–ü—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è—é—Ç—Å—è. –•–æ—Ä–æ—à–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –º–µ–Ω—è—Ç—å/–¥–æ–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –±–µ–∑ –æ—Å–æ–±—ã—Ö –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏–π. –≠—Ç–æ–º—É —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –≥—Ä–∞–º–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏) –∏ —á–µ—Ç–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–æ–¥–µ–ª–∏ –∏ –µ—ë –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –≤–∏–¥–µ –∫–æ–¥–∞.</p> <p>–î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —Ñ–∏—á—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–æ—Ç–∞) –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ —Å –∞–Ω–∞–ª–∏–∑–∞. –ö —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è ‚Äî <code>SPEED</code>. –ò –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –∫–æ—Ç–∞ —Å–ª–µ–≤–∞-–Ω–∞–ø—Ä–∞–≤–æ.</p> <h2 id="improving-a-world-program-add-key-handler"><a href="#improving-a-world-program-add-key-handler" aria-hidden="true" class="header-anchor">#</a> Improving a World Program - Add key handler</h2> <p>–ó–∞–¥–∞—á–∞: –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø—Ä–æ–±–µ–ª –∫–æ—Ç –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –ª–µ–≤–æ–º—É –∫—Ä–∞—é (–≤ –Ω–∞—á–∞–ª–æ –æ—Ç—Å—á–µ—Ç–∞).</p> <p>–°–Ω–æ–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –∞–Ω–∞–ª–∏–∑—É. –ö–æ–Ω—Å—Ç–∞–Ω—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ –Ω–∞–¥–æ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–∂–µ. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ —Ñ—É–Ω–∫—Ü–∏–∏ <code>big-bang</code> ‚Äî <code>on-key</code>:</p> <div class="language-scheme extra-class"><pre class="language-scheme"><code><span class="token punctuation">(</span><span class="token function">big-bang</span> ws<span class="token punctuation">)</span>
    <span class="token comment">; ...</span>
    <span class="token punctuation">(</span><span class="token function">on-key</span>    ...<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">; Cat KeyEvent -&gt; Cat</span>
</code></pre></div><p><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28tech._world._keyevent%29" target="_blank" rel="noopener noreferrer"><code>KeyEvent</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> –≤ Racket ‚Äî large enumeration. –ú–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ.</p> <p>–¢–∏–ø <code>KeyEvent</code> –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π, –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç—ã –ø–∏—Å–∞—Ç—å –Ω–µ—Ç —Å–º—ã—Å–ª–∞, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø–æ —Ä–µ—Ü–µ–ø—Ç—É –¥–ª—è –æ–±—ã—á–Ω—ã—Ö <a href="/mooc_htdp/2_htdd/#enumeration">Enumerations</a>. –®–∞–±–ª–æ–Ω –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ —Ç–∞–∫–æ–π (–æ–Ω –µ—Å—Ç—å <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDW" target="_blank" rel="noopener noreferrer">–≤ —Ä–µ—Ü–µ–ø—Ç–∞—Ö<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>):</p> <div class="language-scheme extra-class"><pre class="language-scheme"><code><span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">handle-key</span> ws ke<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token keyword">cond</span> [<span class="token punctuation">(</span><span class="token function">key=?</span> ke <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token function">...</span> ws<span class="token punctuation">)</span>]
        [else 
         <span class="token punctuation">(</span><span class="token function">...</span> ws<span class="token punctuation">)</span>]<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>–ó–¥–µ—Å—å –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∫–µ–π—Å—ã –∏ –∑–∞–ø–∏—Ö–∏–≤–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤ <code>else</code>.</p> <p>–î–ª—è —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞–µ–≤ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å white-box —Ç–µ—Å—Ç—ã: –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –∫–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ (–Ω–∞–∂–∞—Ç–∏–µ –ø—Ä–æ–±–µ–ª–∞). –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –Ω–∞ —Å–ª—É—á–∞–π (–∫–æ–≥–¥–∞ <code>c</code> —Ä–∞–≤–Ω–æ <code>0</code> –∏–ª–∏ –∫–æ–≥–¥–∞ <code>c</code> —Ä–∞–≤–Ω–æ <code>10</code> –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ).</p> <div class="language-scheme extra-class"><pre class="language-scheme"><code><span class="token comment">;; Cat KeyEvent -&gt; Cat</span>
<span class="token comment">;; reset cat to left edge when space key is pressed</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span> <span class="token number">10</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span> <span class="token number">10</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span>  <span class="token number">0</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span>  <span class="token number">0</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">;(define (handle-key c ke) 0) ; stub</span>

<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">handle-key</span> c ke<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token keyword">cond</span> [<span class="token punctuation">(</span><span class="token function">key=?</span> ke <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token number">0</span>]
        [else c]<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="–ø—Ä–æ–≥—Ä–∞–º–º–∞-—Ü–µn–∏–∫–æ–º"><a href="#–ø—Ä–æ–≥—Ä–∞–º–º–∞-—Ü–µn–∏–∫–æ–º" aria-hidden="true" class="header-anchor">#</a> –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ü–µ–ª–∏–∫–æ–º</h2> <div class="language-scheme extra-class"><pre class="language-scheme"><code><span class="token comment">; PROBLEM:</span>
<span class="token comment">; </span>
<span class="token comment">; Use the How to Design Worlds recipe to design an interactive</span>
<span class="token comment">; program in which a cat starts at the left edge of the display </span>
<span class="token comment">; and then walks across the screen to the right. When the cat</span>
<span class="token comment">; reaches the right edge it should just keep going right off </span>
<span class="token comment">; the screen.</span>
<span class="token comment">; </span>
<span class="token comment">; Once your design is complete revise it to add a new feature,</span>
<span class="token comment">; which is that pressing the space key should cause the cat to</span>
<span class="token comment">; go back to the left edge of the screen. When you do this, go</span>
<span class="token comment">; all the way back to your domain analysis and incorporate the</span>
<span class="token comment">; new feature.</span>
<span class="token comment">; </span>
<span class="token comment">; To help you get started, here is a picture of a cat, which we</span>
<span class="token comment">; have taken from the 2nd edition of the How to Design Programs </span>
<span class="token comment">; book on which this course is based.</span>
<span class="token comment">; </span>
<span class="token comment">; !!! Replace emoji üê± with graphics in DrRacket !!!</span>
<span class="token comment">; </span>

<span class="token punctuation">(</span><span class="token function">require</span> 2htdp/image<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">require</span> 2htdp/universe<span class="token punctuation">)</span>

<span class="token comment">;; A cat that walks from left to right across the screen</span>


<span class="token comment">;; =================</span>
<span class="token comment">;; Constants:</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> WIDTH <span class="token number">600</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> HEIGHT <span class="token number">400</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> CTR-Y <span class="token punctuation">(</span><span class="token operator">/</span> HEIGHT <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> MTS <span class="token punctuation">(</span><span class="token function">empty-scene</span> WIDTH HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> SPEED <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> CAT-IMG üê±<span class="token punctuation">)</span>


<span class="token comment">;; =================</span>
<span class="token comment">;; Data definitions:</span>

<span class="token comment">;; Cat is Number</span>
<span class="token comment">;; Interp. x position of the cat in screen coordinates</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> C1 <span class="token number">0</span><span class="token punctuation">)</span>           <span class="token comment">; left edge</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> C2 <span class="token punctuation">(</span><span class="token operator">/</span> WIDTH <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">; middle</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> C3 WIDTH<span class="token punctuation">)</span>       <span class="token comment">; right edge</span>
<span class="token comment">;#</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">fn-for-cat</span> c<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token function">...</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">;; Template rules used:</span>
<span class="token comment">;; - atomic non-distinct: Number</span>


<span class="token comment">;; =================</span>
<span class="token comment">;; Functions:</span>

<span class="token comment">;; Cat -&gt; Cat</span>
<span class="token comment">;; start the world with (main 0)</span>
<span class="token comment">;; </span>
<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">main</span> c<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token function">big-bang</span> c                       <span class="token comment">; Cat</span>
            <span class="token punctuation">(</span><span class="token function">on-tick</span> advance-cat<span class="token punctuation">)</span>   <span class="token comment">; Cat -&gt; Cat</span>
            <span class="token punctuation">(</span><span class="token function">on-key</span> handle-key<span class="token punctuation">)</span>     <span class="token comment">; Cat KeyEvent -&gt; Cat</span>
            <span class="token punctuation">(</span><span class="token function">on-mouse</span> handle-mouse<span class="token punctuation">)</span> <span class="token comment">; Cat Integer Integer MouseEvent -&gt; Cat</span>
            <span class="token punctuation">(</span><span class="token function">to-draw</span> render<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">; Cat -&gt; Image</span>


<span class="token comment">;; Cat -&gt; Cat</span>
<span class="token comment">;; produce the next cat by advancing it SPEED pixels to right</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">advance-cat</span> <span class="token number">0</span><span class="token punctuation">)</span> SPEED<span class="token punctuation">)</span>
<span class="token comment">;(define (advance-cat c) 0) ;stub</span>
<span class="token comment">; &lt;use template from Cat&gt;</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">advance-cat</span> c<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token operator">+</span> c SPEED<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment">;; Cat -&gt; Image</span>
<span class="token comment">;; render the cat image at appropriate place on MTS</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">render</span> <span class="token number">0</span><span class="token punctuation">)</span>
              <span class="token punctuation">(</span><span class="token function">place-image</span> CAT-IMG <span class="token number">0</span> CTR-Y MTS<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">;(define (render c) MTS) ; sub</span>
<span class="token comment">; &lt;use template from Cat&gt;</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">render</span> c<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token function">place-image</span> CAT-IMG c CTR-Y MTS<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment">;; Cat KeyEvent -&gt; Cat</span>
<span class="token comment">;; reset cat to left edge when space key is pressed</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span> <span class="token number">10</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span> <span class="token number">10</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span>  <span class="token number">0</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-key</span>  <span class="token number">0</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">;(define (handle-key c ke) 0) ; stub</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">handle-key</span> c ke<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token keyword">cond</span> [<span class="token punctuation">(</span><span class="token function">key=?</span> ke <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token number">0</span>]
        [else c]<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment">;; Cat Integer Integer MouseEvent -&gt; Cat</span>
<span class="token comment">;; set cat left position to the current exposition of the mouse</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-mouse</span> <span class="token number">10</span> <span class="token number">50</span> CTR-Y <span class="token string">&quot;button-down&quot;</span><span class="token punctuation">)</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token function">check-expect</span> <span class="token punctuation">(</span><span class="token function">handle-mouse</span> <span class="token number">10</span> <span class="token number">50</span> CTR-Y <span class="token string">&quot;move&quot;</span><span class="token punctuation">)</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">;(define (handle-mouse c x y me) 0) ; stub</span>
<span class="token punctuation">(</span><span class="token keyword">define</span> <span class="token punctuation">(</span><span class="token function">handle-mouse</span> c x y me<span class="token punctuation">)</span>
  <span class="token punctuation">(</span><span class="token keyword">cond</span> [<span class="token punctuation">(</span><span class="token function">mouse=?</span> me <span class="token string">&quot;button-down&quot;</span><span class="token punctuation">)</span> x]
        [else c]<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ‚Üê
        <a href="/mooc_htdp/2_htdd/" class="prev">
          2: How to Design Data
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/mooc_htdp/assets/js/app.592f2e84.js" defer></script><script src="/mooc_htdp/assets/js/6.1399ec09.js" defer></script>
  </body>
</html>
